{
    "providers": [
        {
            "provider": "directory",
            "params": {
                "directory": "./rules"
            }
        },
        {
            "provider": "rethinkdb",
            "params": {
                "host": "localhost",
                "port": "28015"
            }
        }
    ],
    "rules": [
        {
            "id": "text_universal",
            "priority": 0,
            "type": "text",
            "urls": [
                ".*"
            ],
            "values": {
            	"title": {
            		"@extractor": {
            		    "id": "gofetch.title.extractor"
            		}
            	},
                "content": {
                	"@extractor": {
                	    "id": "gofetch.article.extractor"
                	}
	            }
            }
        },
        {
            "id": "imgur",
            "priority": 5,
            "type": "photo",
            "urls": [
                "http://imgur.com/[a-zA-Z0-9]+"
            ],
            "values": {
                "url": {
                    "@extractor": {
                        "id": "gofetch.selector.extractor",
                        "params": {
                            "selector": "#image img",
                            "attribute": "src"
                        }
                    }
                }
            }
        },
        {
            "id": "bbc_news",
            "priority": 5,
            "type": "text",
            "urls": [
                "http://www.bbc.co.uk/news/.*"
            ],
            "values": {
                "author": {
                	"@extractor": {
	                    "id": "gofetch.selector.extractor",
	                    "params": {
	                        "selector": ".byline-name"
	                    }
	                }
	            },
                "published": {
                	"@extractor": {
	                    "id": "gofetch.selector.extractor",
	                    "params": {
	                        "selector": ".story-date .date"
	                    }
	                }
	            },
                "title": {
                	"@extractor": {
	                    "id": "gofetch.selector.extractor",
	                    "params": {
	                        "selector": ".story-header"
	                    }
	                }
	            },
                "content": {
                	"@extractor": {
	                    "id": "gofetch.selector_text.extractor",
	                    "params": {
	                        "selector": ".story-body"
	                    }
	                }
	            }
            }
        },
        {
        	"id": "youtube",
        	"priority": 5,
        	"type": "oembed",
        	"urls": [
        	    "https?://(www.)?youtube.com/watch\\?v=.*"
        	],
        	"values": {
    	        "@extractor": {
    	            "id": "gofetch.oembed.extractor",
    	            "params": {
    	                "endpoint": "http://www.youtube.com/oembed?url=%s&format=json"
    	            }
    	        }
        	}
        },
        {
        	"id": "flikr",
        	"priority": 5,
        	"type": "oembed",
        	"urls": [
        	    "https?://(www.)?flickr.com/photos/.*"
        	],
        	"values": {
    	        "@extractor": {
    	            "id": "gofetch.oembed.extractor",
    	            "params": {
    	                "endpoint": "http://www.flickr.com/services/oembed/?url=%s&format=json"
    	            }
    	        }
        	}
        }
    ]
}
